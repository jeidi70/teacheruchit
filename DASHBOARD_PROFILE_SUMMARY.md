# –î–∞—à–±–æ—Ä–¥ —Å –ø—Ä–æ—Ñ–∏–ª–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

## üéØ **–¶–µ–ª—å:**
–ò—Å–ø—Ä–∞–≤–∏—Ç—å –∫–Ω–æ–ø–∫—É "–ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É" –∏ –¥–æ–±–∞–≤–∏—Ç—å –¥–∞—à–±–æ—Ä–¥ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.

## ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∏ –¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è:**

### 1. **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –∫–Ω–æ–ø–∫–∞ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É"**
**–ü—Ä–æ–±–ª–µ–º–∞:** Inline –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ `onclick="completeSetup()"` –±–ª–æ–∫–∏—Ä–æ–≤–∞–ª—Å—è CSP
**–†–µ—à–µ–Ω–∏–µ:** –ó–∞–º–µ–Ω–µ–Ω –Ω–∞ `addEventListener`

```javascript
// role-selection.html
document.addEventListener('DOMContentLoaded', function() {
    const continueBtn = document.getElementById('continue-btn');
    if (continueBtn) {
        continueBtn.addEventListener('click', completeSetup);
    }
});
```

### 2. **–£–ª—É—á—à–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è completeSetup()**
**–î–æ–±–∞–≤–ª–µ–Ω–æ:**
- Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–Ω–æ–ø–∫–∏: "–ó–∞–≤–µ—Ä—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É..."
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ—Ñ–∏–ª—è
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ currentUser —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ —Ä–æ–ª–∏
- –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥–∞—à–±–æ—Ä–¥ —Å –ø–∞—Ä–∞–º–µ—Ç—Ä–∞–º–∏

```javascript
function completeSetup() {
    // Loading —Å–æ—Å—Ç–æ—è–Ω–∏–µ
    continueBtn.textContent = '–ó–∞–≤–µ—Ä—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É...';
    continueBtn.disabled = true;
    
    // –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –ø—Ä–æ—Ñ–∏–ª—è
    let profileData = {
        role: selectedRole,
        profileCompleted: true,
        userName: currentUser.name,
        userEmail: currentUser.email,
        // + –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è —Å readable –∏–º–µ–Ω–∞–º–∏
    };
    
    // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ –¥–∞—à–±–æ—Ä–¥
    window.location.href = 'index.html?role=student&dashboard=true';
}
```

### 3. **–î–æ–±–∞–≤–ª–µ–Ω –¥–∞—à–±–æ—Ä–¥ –Ω–∞ –≥–ª–∞–≤–Ω—É—é —Å—Ç—Ä–∞–Ω–∏—Ü—É**
**HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**
```html
<div id="user-profile-section" class="user-profile" style="display: none;">
    <div class="profile-header">
        <div class="profile-info">
            <div class="profile-avatar">
                <i class="fas fa-user"></i>
            </div>
            <div class="profile-details">
                <h2 id="profile-name">–ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è</h2>
                <p id="profile-role">–†–æ–ª—å</p>
            </div>
        </div>
        <button class="btn btn-secondary" onclick="logout()">–í—ã–π—Ç–∏</button>
    </div>
    <div class="profile-data" id="profile-data">
        <!-- –ö–∞—Ä—Ç–æ—á–∫–∏ —Å –¥–∞–Ω–Ω—ã–º–∏ –ø—Ä–æ—Ñ–∏–ª—è -->
    </div>
</div>
```

### 4. **CSS —Å—Ç–∏–ª–∏ –¥–ª—è –ø—Ä–æ—Ñ–∏–ª—è**
```css
.user-profile {
    background: white;
    padding: 2rem 0;
    margin-top: 4rem;
}

.profile-card {
    background: var(--gray-50);
    border-radius: 0.75rem;
    padding: 1.5rem;
    border: 1px solid var(--gray-200);
}

.profile-badge {
    background: linear-gradient(135deg, var(--primary), var(--secondary));
    color: white;
    padding: 0.25rem 0.75rem;
    border-radius: 1rem;
}
```

### 5. **JavaScript –ª–æ–≥–∏–∫–∞ –¥–∞—à–±–æ—Ä–¥–∞**
```javascript
function checkAuthAndLoadProfile() {
    const currentUser = localStorage.getItem('currentUser');
    const urlParams = new URLSearchParams(window.location.search);
    const showDashboard = urlParams.get('dashboard') === 'true' || urlParams.get('role');

    if (currentUser && showDashboard) {
        const profile = localStorage.getItem(`teacheruchit_profile_${user.email}`);
        if (profile) {
            displayUserProfile(user, JSON.parse(profile));
            return true;
        }
    }
    return false;
}
```

## üöÄ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö:**

### **–î–ª—è —Å—Ç—É–¥–µ–Ω—Ç–æ–≤:**
```json
{
    "role": "student",
    "profileCompleted": true,
    "userName": "–ò–º—è –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è",
    "userEmail": "user@example.com",
    "city": "spb",
    "cityName": "–°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥",
    "school": "–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–π –§–ú–õ ‚Ññ239",
    "class": "10",
    "letter": "–ê",
    "fullClass": "10–ê",
    "completedAt": "2024-01-01T00:00:00.000Z"
}
```

### **–î–ª—è —É—á–∏—Ç–µ–ª–µ–π:**
```json
{
    "role": "teacher",
    "profileCompleted": true,
    "userName": "–ò–º—è –£—á–∏—Ç–µ–ª—è",
    "userEmail": "teacher@example.com",
    "subject": "history",
    "subjectName": "–ò—Å—Ç–æ—Ä–∏—è",
    "experience": "5-10",
    "experienceName": "5-10 –ª–µ—Ç",
    "school": "–ù–∞–∑–≤–∞–Ω–∏–µ —à–∫–æ–ª—ã",
    "completedAt": "2024-01-01T00:00:00.000Z"
}
```

## üì± **–û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –≤ –¥–∞—à–±–æ—Ä–¥–µ:**

### **–ü—Ä–æ—Ñ–∏–ª—å —Å—Ç—É–¥–µ–Ω—Ç–∞:**
- **–ì–æ—Ä–æ–¥:** –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥
- **–®–∫–æ–ª–∞:** [–ù–∞–∑–≤–∞–Ω–∏–µ —à–∫–æ–ª—ã]
- **–ö–ª–∞—Å—Å:** [–ë–µ–π–¥–∂ —Å –∫–ª–∞—Å—Å–æ–º –∏ –±—É–∫–≤–æ–π]
- **Email:** [Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]

### **–ü—Ä–æ—Ñ–∏–ª—å —É—á–∏—Ç–µ–ª—è:**
- **–ü—Ä–µ–¥–º–µ—Ç:** [–ë–µ–π–¥–∂ —Å –ø—Ä–µ–¥–º–µ—Ç–æ–º]
- **–û–ø—ã—Ç —Ä–∞–±–æ—Ç—ã:** [–¢–µ–∫—Å—Ç–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ]
- **–£—á—Ä–µ–∂–¥–µ–Ω–∏–µ:** [–ù–∞–∑–≤–∞–Ω–∏–µ —à–∫–æ–ª—ã]
- **Email:** [Email –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è]

## üîÑ **Flow –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**

### **–ü–æ–ª–Ω—ã–π —Ü–∏–∫–ª –Ω–æ–≤–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
1. **–†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ role-selection.html
2. **–í—ã–±–æ—Ä —Ä–æ–ª–∏** ‚Üí –ü–æ–∫–∞–∑ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–π —Ñ–æ—Ä–º—ã
3. **–ó–∞–ø–æ–ª–Ω–µ–Ω–∏–µ –ø—Ä–æ—Ñ–∏–ª—è** ‚Üí –ê–∫—Ç–∏–≤–∞—Ü–∏—è –∫–Ω–æ–ø–∫–∏ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É"
4. **–ö–ª–∏–∫ –Ω–∞ –∫–Ω–æ–ø–∫—É** ‚Üí Loading ‚Üí –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ ‚Üí –ü–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–∞—à–±–æ—Ä–¥
5. **–î–∞—à–±–æ—Ä–¥** ‚Üí –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—Å–µ—Ö —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö + –∫–Ω–æ–ø–∫–∞ "–í—ã–π—Ç–∏"

### **–í–æ–∑–≤—Ä–∞—â–∞—é—â–∏–π—Å—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:**
1. **–í—Ö–æ–¥ –≤ auth.html** ‚Üí –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–∞—à–±–æ—Ä–¥
2. **–î–∞—à–±–æ—Ä–¥** ‚Üí –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ—Ñ–∏–ª—è

## üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

### **–°—Ü–µ–Ω–∞—Ä–∏–π 1: –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**
1. –ü—Ä–æ–π–¥–∏—Ç–µ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é –∏ –≤—ã–±–æ—Ä —Ä–æ–ª–∏
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –ø—Ä–æ—Ñ–∏–ª—è
3. –ù–∞–∂–º–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∏—Ç—å –Ω–∞—Å—Ç—Ä–æ–π–∫—É"
4. –£–≤–∏–¥–∏—Ç–µ "–ó–∞–≤–µ—Ä—à–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫—É..." ‚Üí –ø–µ—Ä–µ—Ö–æ–¥ –Ω–∞ –¥–∞—à–±–æ—Ä–¥

### **–°—Ü–µ–Ω–∞—Ä–∏–π 2: –î–∞—à–±–æ—Ä–¥ —Å—Ç—É–¥–µ–Ω—Ç–∞**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ —Å—Ç—É–¥–µ–Ω—Ç
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ: –≥–æ—Ä–æ–¥, —à–∫–æ–ª—É, –∫–ª–∞—Å—Å, –±—É–∫–≤—É
3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É–≤–∏–¥–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥ —Å:
   - –ê–≤–∞—Ç–∞—Ä–æ–º –∏ –∏–º–µ–Ω–µ–º
   - –ö–∞—Ä—Ç–æ—á–∫–∞–º–∏: –ì–æ—Ä–æ–¥, –®–∫–æ–ª–∞, –ö–ª–∞—Å—Å (–±–µ–π–¥–∂), Email

### **–°—Ü–µ–Ω–∞—Ä–∏–π 3: –î–∞—à–±–æ—Ä–¥ —É—á–∏—Ç–µ–ª—è**
1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –∫–∞–∫ —É—á–∏—Ç–µ–ª—å
2. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ: –ø—Ä–µ–¥–º–µ—Ç, –æ–ø—ã—Ç, —É—á—Ä–µ–∂–¥–µ–Ω–∏–µ
3. –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è —É–≤–∏–¥–∏—Ç–µ –¥–∞—à–±–æ—Ä–¥ —Å:
   - –ê–≤–∞—Ç–∞—Ä–æ–º –∏ –∏–º–µ–Ω–µ–º
   - –ö–∞—Ä—Ç–æ—á–∫–∞–º–∏: –ü—Ä–µ–¥–º–µ—Ç (–±–µ–π–¥–∂), –û–ø—ã—Ç, –£—á—Ä–µ–∂–¥–µ–Ω–∏–µ, Email

### **–°—Ü–µ–Ω–∞—Ä–∏–π 4: –í—ã—Ö–æ–¥ –∏–∑ —Å–∏—Å—Ç–µ–º—ã**
1. –í –¥–∞—à–±–æ—Ä–¥–µ –Ω–∞–∂–º–∏—Ç–µ "–í—ã–π—Ç–∏"
2. –î–∞–Ω–Ω—ã–µ –æ—á–∏—Å—Ç—è—Ç—Å—è, –ø–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ auth.html

## üóÇÔ∏è **–ö–ª—é—á–∏ localStorage:**
- `currentUser` - —Ç–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å (–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è —Å —Ä–æ–ª—å—é)
- `teacheruchit_profile_{email}` - –ø—Ä–æ—Ñ–∏–ª—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `userProfile` - —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è –ø—Ä–æ—Ñ–∏–ª—è

## ‚ú® **–†–µ–∑—É–ª—å—Ç–∞—Ç:**
–ü–æ–ª–Ω–æ—Ü–µ–Ω–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –ø—Ä–æ—Ñ–∏–ª–µ–π —Å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –¥–∞–Ω–Ω—ã—Ö, –∫—Ä–∞—Å–∏–≤—ã–º –¥–∞—à–±–æ—Ä–¥–æ–º –∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º flow –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –≤–∏–¥—è—Ç –≤—Å–µ —Å–≤–æ–∏ –¥–∞–Ω–Ω—ã–µ –∏ –º–æ–≥—É—Ç –ª–µ–≥–∫–æ –≤—ã–π—Ç–∏ –∏–∑ —Å–∏—Å—Ç–µ–º—ã.

## üåê **URL –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è: `http://localhost:8000/auth.html`
- –í—ã–±–æ—Ä —Ä–æ–ª–∏: `http://localhost:8000/role-selection.html`
- –î–∞—à–±–æ—Ä–¥: `http://localhost:8000/?dashboard=true`